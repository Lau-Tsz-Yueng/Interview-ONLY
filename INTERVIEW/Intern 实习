license安全算法整改
添加了双秘钥 + 改进过度license签名算法RSA2048-SHA1 到 RSA3072-SHA256
SHA1属于过时的安全性较低的加密算法
采用双签名License的解决方案


License文件规范升级后 采用新的XML格式去显示双标签 License文件包含了客户销售以及公共信息


老标签含有公司签名和产品签名 | 新标签是用来描述另外一对公司签名和产品签名

VCG: 运行在公司ESDP IT系统的插件 用于给license签名
单签名


双签名
ESDP传入4个秘钥对和待签名的License 给VCG
秘钥对A RSA2048公司秘钥对
秘钥对B RSA2048产品秘钥对
秘钥对C RSA3072公司秘钥对
秘钥对D RSA3072产品秘钥对
待签名LicenseA

1. 生成产品签名
计算LicenseA的哈希值 使用秘钥对D对哈希值进行不对称私钥加密 得到加密字符串 将字符串作为标签值调到LicenseA得到LicenseB
2. 生产公司签名 
计算LcienseB的哈希值....
....
得到最终的License就是最终ESDP下发的双签名License



SHA加密算法
one way encryption.
哈希函数将信息或数据压缩成摘要 再讲数据打乱混合 重新创建一个散列值 通常用一个随机字母和数字来代表
